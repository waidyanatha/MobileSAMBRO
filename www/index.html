<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="Content-Security-Policy">
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">

    <link rel="stylesheet" type="text/css" href="assets/css/index.css">

    <link rel="stylesheet" type="text/css" href="assets/css/angular-material.css">

    <link rel="stylesheet" type="text/css" href="assets/css/angular-material-icons.css">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic,500,500italic,700,700italic">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,700">

    <script type="text/javascript">
        var google = undefined;
    </script>
    <script src="http://maps.google.com/maps/api/js?v=3.2&sensor=false"></script>

    <script type="text/javascript" src="assets/lib/jquery.min.js"></script>
    <!-- AngularJs -->
    <script type="text/javascript" src="assets/lib/angular.min.js"></script>
    <script type="text/javascript" src="assets/lib/angular-ui-router.min.js"></script>
    <script type="text/javascript" src="assets/lib/angular-aria.min.js"></script>
    <script type="text/javascript" src="assets/lib/angular-animate.min.js"></script>
    <script type="text/javascript" src="assets/lib/ngStorage.min.js"></script>
    <script type="text/javascript" src="assets/lib/ngTouch.min.js"></script>
    <script type="text/javascript" src="assets/lib/angular-messages.min.js"></script>
    <!-- Angular Material -->
    <script type="text/javascript" src="assets/lib/angular-material-icons.js"></script>
    <script type="text/javascript" src="assets/lib/angular-material.js"></script>

    <!-- Leaflet -->
    <script src="assets/lib/leaflet/leaflet/leaflet.js"></script>
    <link rel="stylesheet" href="assets/lib/leaflet/leaflet/leaflet.css" />

    <!-- Leaflet Draw -->
    <script src="assets/lib/leaflet/leaflet-draw/leaflet.draw.js"></script>
    <link rel="stylesheet" href="assets/lib/leaflet/leaflet-draw/leaflet.draw.css" />

    <!-- Leaflet Wicket -->
    <script src="assets/lib/leaflet/leaflet-wicket/wicket.src.js"></script>
    <script src="assets/lib/leaflet/leaflet-wicket/wicket-leaflet.src.js"></script>

    <!-- leaflet google -->
    <script src='assets/lib/leaflet/leaflet-google/layer/tile/Google.js'></script>

    <!-- JS Date -->
    <script type="text/javascript" src="assets/lib/jsDate.js"></script>

    <!-- JS Crypt -->
    <script type="text/javascript" src="assets/lib/aes.js"></script>

    <!-- Cordova -->
    <script type="text/javascript" src="assets/lib/ng-cordova.min.js"></script>
    <script src="cordova.js"></script>

<script type="text/javascript">
    var dbShared = null;
    var map = null;
    var mapThumbnail = null;
    var mapThumbnailSummary = null;
    var mediaSound = null;

    var myService; //background service always running
    function getStatus() {
        myService.getStatus(function(r){startService(r)}, function(e){handleError(e)});
    };
    function startService(data) {
       if (data.ServiceRunning) {
          enableTimer(data);
       } else {
          myService.startService(function(r){enableTimer(r)}, function(e){handleError(e)});
       }
    }
    function enableTimer(data) {
       if (data.TimerEnabled) {
          allDone();
       } else {
          myService.enableTimer(60000, function(r){allDone(r)}, function(e){handleError(e)});
       }
    }
    function allDone() {
       console.log("Service now running");
    }

    
</script>


    <!-- Modules -->
    <script type="text/javascript" src="app/app.js"></script>

    <!-- Routes -->
    <script type="text/javascript" src="app/routes.js"></script>

    <!-- Services -->
    <script type="text/javascript" src="app/shared/shared-service.js"></script>

    <!-- Controllers -->
    <script type="text/javascript" src="app/components/main/main-controller.js"></script>
    <script type="text/javascript" src="app/components/alert/alert-form-controller.js"></script>
    <script type="text/javascript" src="app/components/login/login-controller.js"></script>

    <link rel="stylesheet" type="text/css" href="assets/css/custom.css">

    <title>SAMBRO</title>
  </head>

  <body layout="row" ng-cloak>

    <ui-view></ui-view>
    
  </body>
</html>
