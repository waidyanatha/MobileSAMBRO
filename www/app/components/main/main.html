

<md-toolbar class="mainToolbar" flex>
  <div class="md-toolbar-tools" layout="row" layout-align="space-between center">
    <md-button class="md-icon-button md-primary" aria-label="Menu" ng-click="main.toggle()">
      <ng-md-icon icon="menu"></ng-md-icon>
    </md-button>
    <p>{{ main.title }}</p>
    <div ></div>
  </div>
</md-toolbar>

<md-sidenav class="md-sidenav-left" md-component-id="left">
  <md-toolbar class="sideLeftNavTopBar">
    <h1 class="md-toolbar-tools">{{main.username}}</h1>
  </md-toolbar>
  <md-list ng-cloak>
    <md-list-item >
      <ng-md-icon icon="verified_user"></ng-md-icon>
      <p>Profile</p>
    </md-list-item>
    <md-list-item ng-click="main.logout()">
      <ng-md-icon icon="verified_user"></ng-md-icon>
      <p>Logout</p>
    </md-list-item>
  </md-list>
</md-sidenav>

<md-content class="content" layout="column" flex>
  <div class="spaceTop"></div>
  <div layout="row">
    <div flex="5"></div>
      <md-whiteframe class="md-whiteframe-3dp" layout="column" flex="90">

        <md-progress-linear md-mode="indeterminate" ng-show="main.isSync"></md-progress-linear>
        <md-list ng-cloak layout-align="center center">
          <md-button class="md-raised md-accent" style="width:95%;" aria-label="Submit" ng-disabled="main.isSync" ng-click="main.addAlert()">
          Issue new Alert
          </md-button>  

          <md-subheader ng-show="main.isOfflineDataExist" class="md-no-sticky">Offline Alert List</md-subheader>
          <md-list-item ng-show="!dataAlert.is_send" layout="column" class="md-3-line" ng-repeat="dataAlert in main.dataOfflineAlerts" >
            
            <md-progress-linear md-mode="indeterminate" ng-show="dataAlert.is_progress"></md-progress-linear>
            <div layout="row" layout-align="start start" >
                <ng-md-icon icon="image" class="md-avatar" flex="10"></ng-md-icon>
                <div class="md-list-item-text" style="width:60%;" layout="column" flex="90">
                  <h3 class="text-truncate">{{ dataAlert.data_form['$_cap_alert'][0]['$_cap_info'][0]['headline'] }}</h3>
                  <h4 class="text-truncate">{{ dataAlert.data_form['$_cap_alert'][0]['$_cap_area'][0]['name'] }}</h4>
                  <p class="text-truncate">{{ dataAlert.data_form['$_cap_alert'][0]['$_cap_info'][0]['event'] }} - {{ dataAlert.data_form['$_cap_alert'][0]['scope']['@value'] }}</p>
                </div>
            </div>
          
          </md-list-item>
          <md-divider ng-show="main.isOfflineDataExist" ></md-divider>

          <md-subheader class="md-no-sticky">Alert List</md-subheader>
          <md-progress-linear md-mode="indeterminate" ng-show="main.loadDataAlert"></md-progress-linear>
          <md-list-item layout="row" layout-align="start start" class="md-3-line" ng-repeat="dataAlert in main.dataAlerts" >
            
              <ng-md-icon icon="image" class="md-avatar" flex="10"></ng-md-icon>
              <div class="md-list-item-text" layout="column" flex="90">
                <h3>{{ dataAlert['cap_info.headline'] }}</h3>
                <h4>{{ dataAlert['cap_area.name'] }}</h4>
                <p>{{ dataAlert['event_event_type.name']}} - {{ dataAlert.scope }}</p>
              </div>
          </md-list-item>

        </md-list>

        <md-divider></md-divider>
        
      </md-whiteframe>
    <div flex="5"></div>
  </div>
  <div class="spaceBottom"></div>
</md-content>

